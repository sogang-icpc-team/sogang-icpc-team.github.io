<script>
  import { onMount, onDestroy } from "svelte";
  import {
    showTopBar as showTopBarStore,
    showFooter as showFooterStore,
  } from "../../template/NavBar/store";

  onMount(() => {
    document.querySelector(".contents_container").style = "max-width: unset;";

    showTopBarStore.update(() => false);
    showFooterStore.update(() => false);
  });

  onDestroy(() => {
    showTopBarStore.update(() => true);
    showFooterStore.update(() => true);
  });

  const handleGlidingTabItemClick = (offset) => {
    document.querySelector(".year-switch__glider").style.transform =
      `translateX(${offset * 100}%)`;
  };
</script>

<a class="go_back_icon" href="/">
  <i class="material-icons main">arrow_backward</i>
  <span>í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</span>
</a>
<div class="page">
  <div class="hero">
    <div>
      <div class="title">ì²­ì •ìˆ˜ì»µ</div>
      <div class="sub-title">Clean Water Cup</div>
    </div>

    <div class="info-item__wrapper">
      <div class="info-item">
        <span class="info-item__title">ì°¸ì—¬ ëŒ€ìƒ</span>
        <span>ì„œê°•ëŒ€í•™êµ í•™ë¶€ìƒ ëˆ„êµ¬ë‚˜</span>
      </div>
      <div class="info-item">
        <span class="info-item__title">ì°¸ì—¬ ëŒ€ìƒ</span>
        <span>ì„œê°•ëŒ€í•™êµ í•™ë¶€ìƒ ëˆ„êµ¬ë‚˜</span>
      </div>
      <div class="info-item">
        <span class="info-item__title">ì°¸ì—¬ ëŒ€ìƒ</span>
        <span>ì„œê°•ëŒ€í•™êµ í•™ë¶€ìƒ ëˆ„êµ¬ë‚˜</span>
      </div>
    </div>
  </div>
  <div class="description">
    ì„œê°•ëŒ€í•™êµ ì²­ì •ìˆ˜ì»µì€ ë‚¨ë‚¨ì„ ë°°ë ¤í•¨ìœ¼ë¡œì¨ ë‚˜ì˜ ì§„ì§„ì§œ ëª¨ìŠµì„ ì°¾ê²Œë˜ëŠ” ê³¼ì •ì„
    ì•ˆë‚´ë—í•©ë‹ˆë‹¤. ê·¸ ë¿ë§Œì´ê² ìŠµë‹ˆê¹Œ.<br />
    ì„ì›ì§„ì€ ëª¨ë‘ê°€ í•™íšŒì›ë“¤ì„ ì±™ê¸°ë©°, í•™êµ ë˜í•œ í•™ìƒë“¤ í•œëª…í•œëª…ì„ ì‚¬ë‘í•©ë‹ˆë‹¤. ê³ ë§™ìŠµë‹ˆë‹¤.
    ì—¬ê¸°ê¹Œì§€ ë°œê±¸ìŒ í•´ì£¼ì‹  ê²ƒì— ê²½ì˜ë¥¼ í‘œí•©ë‹ˆë‹¤.
  </div>
  <div class="hero-image__wrapper">
    <img
      class="hero-image-1"
      alt="hero-1"
      src="/res/clean-water-cup/IMG_1380.jpg"
    />
    <img
      class="hero-image-2"
      alt="hero-2"
      src="/res/clean-water-cup/IMG_1445.jpg"
    />
  </div>

  <div class="section-divider" />

  <div class="section">
    <div class="section-header">
      <div>
        <div class="section-header__title">
          ğŸ£<br />ìƒˆë‚´ê¸°ë¥¼ ìœ„í•œ ëŒ€íšŒ
        </div>
        <div class="section-header__desc">
          ì•„ì§ ë¬¸ì œí•´ê²°ì— ìµìˆ™í•˜ì§€ ì•Šì€ ì‹ ì…ìƒë“¤ë„ ë¶€ë‹´ì—†ì´ ìˆ˜ìƒí•  ìˆ˜ ìˆë„ë¡,<br
          />
          ìƒˆë‚´ê¸°ëŠ” ìƒˆë‚´ê¸°ë¼ë¦¬ ê²½ìŸí•˜ì„¸ìš”.
        </div>
      </div>
      <img
        alt="poster"
        class="section-header__right-img"
        src="/res/clean-water-cup/IMG_1394.jpg"
      />
    </div>
    <table class="round-comparison__table">
      <thead>
        <tr>
          <th />
          <th>ì°¸ê°€ ì¡°ê±´</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>ìƒˆë‚´ê¸° Round</th>
          <td>Sogang ICPC Team ì†Œì† ë‹¹í•´ë…„ë„ ì‹ ì…ìƒ</td>
        </tr>
        <tr>
          <th>ì²­ì •ìˆ˜ Round</th>
          <td>
            <span style="text-align: left;">
              <span
                >ì•„ë˜ ì¡°ê±´ì— í•´ë‹¹í•˜ì§€ <u>ì•ŠëŠ”</u> ëª¨ë“  Sogang ICPC Team í•™íšŒì›</span
              >
              <br />
              <ul style="width: max-content; margin: 20px auto 0;">
                <li>Codeforces >= 1600</li>
                <li>AtCoder >= 1200</li>
                <li>solved.ac >= Platinum III</li>
                <li>ICPC/UCPC/SUAPC/Camp Contest/SPC/SCPC/ì²­ì •ìˆ˜ì»µ ìˆ˜ìƒì</li>
              </ul>
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="section-divider" />

  <div class="section">
    <div class="section-header">
      <div>
        <div class="section-header__title">âš”<br />ì˜¤í”„ë¼ì¸ ê²½ìŸì˜ ì¥</div>
        <div class="section-header__desc">
          ì«„ê¹ƒí•œ ì˜¤í”„ë¼ì¸ í™”í•©ì˜ ì¥ì—ì„œ ëˆ„ê°€ëˆ„ê°€ ëˆê¸°ìˆê²Œ ëê¹Œì§€ ë§ˆë¼í†¤ì„
          ì™„ì£¼í•´ë‚¼ ê²ƒì¸ê°€?
          <br />
          ì˜† ì‚¬ëŒì—ê²Œ ì•Œë¡ë‹¬ë¡í•œ í’ì„ ì´ í•˜ë‚˜ ì¶”ê°€ë˜ëŠ” ìˆœê°„ ë‚˜ ë˜í•œ ê·¸ ê¸°ì‹¸ì›€ì—ì„œ
          ì§€ì§€ì•Šê² ë‹¤.
          <br />
          ê²°ì‹¬í•˜ëŠ” ìê°€ ìŠ¹ë¦¬ë¥¼ ìŸì·¨í•˜ëŠ” ê²ƒì´ë‹¤.
        </div>
      </div>
      <img
        alt="poster"
        class="section-header__right-img"
        src="/res/clean-water-cup/IMG_1394.jpg"
      />
    </div>
  </div>

  <div class="section-divider" />

  <div class="section">
    <div class="section-header">
      <div>
        <div class="section-header__title">ğŸ›ï¸<br />ê¸°ë¡</div>
        <div class="section-header__desc">ëŒ€íšŒë¥¼ ë¹›ë‚´ì£¼ì‹  ë¶„ë“¤ì…ë‹ˆë‹¤.</div>
      </div>
      <div class="year-switch__wrapper">
        <div class="year-switch__glider" />
        {#each [2024, 2023, 2022, 2021] as year, index}
          <label class="year-switch-item">
            {year}
            <input
              type="radio"
              name="gliding-tab-year"
              checked={index === 0}
              on:click={() => handleGlidingTabItemClick(index)}
            />
          </label>
        {/each}
      </div>
    </div>

    <div class="contest">
      <div>
        <div class="contest__title">
          ì œ 5íšŒ<br />ì„œê°•ëŒ€í•™êµ ì²­ì •ìˆ˜ì»µ
        </div>
        <button class="contest-link__button">BOJ ëŒ€íšŒ ë°”ë¡œê°€ê¸° â†’</button>
      </div>

      <div class="contest-info-item__wrapper">
        <div class="contest-info-item">
          <div class="contest-info-item__title">ì¼ì</div>
          <div>2023ë…„ 12ì›” 29ì¼(ê¸ˆ) ì˜¤ì „ 11ì‹œ ~ ì˜¤í›„ 5ì‹œ</div>
        </div>
        <div class="contest-info-item">
          <div class="contest-info-item__title">ì¥ì†Œ</div>
          <div>ì„œê°•ëŒ€í•™êµ ë‹¤ì‚°ê´€(Dê´€) D101, 102í˜¸</div>
        </div>
      </div>
    </div>

    <div class="award-history__wrapper">
      <div class="caption">ìˆ˜ìƒë‚´ì—­</div>
      <table class="award-history__table">
        <thead>
          <tr>
            <th style="width: 104px;">êµ¬ë¶„</th>
            <th style="width: 84px;">ìˆœìœ„</th>
            <th style="width: 88px;">ì†”ë¸Œ ìˆ˜</th>
            <th>ì´ë¦„</th>
          </tr>
        </thead>
        <tbody>
          {#each [{ rank: 1, solved: 3, name: "ê¹€ì² ìˆ˜" }, { rank: 2, solved: 2, name: "ê°•ë™ì£¼" }] as data, index}
            <tr
              style={index % 2
                ? "background-color: rgba(206, 223, 200, 0.35)"
                : ""}
            >
              {#if index === 0}
                <td rowspan="2" style="background-color: #cedfc8;">
                  ìƒˆë‚´ê¸° Round
                </td>
              {/if}
              <td>{data.rank}</td>
              <td>{data.solved}</td>
              <td>{data.name}</td>
            </tr>
          {/each}
          {#each [{ rank: 1, solved: 3, name: "ê¹€ì² ìˆ˜" }, { rank: 2, solved: 2, name: "ê°•ë™ì£¼" }] as data, index}
            <tr
              style={index % 2
                ? "background-color: rgba(200, 221, 223, 0.35)"
                : ""}
            >
              {#if index === 0}
                <td rowspan="2" style="background-color: #c8dddf;">
                  ì²­ì •ìˆ˜ Round
                </td>
              {/if}
              <td>{data.rank}</td>
              <td>{data.solved}</td>
              <td>{data.name}</td>
            </tr>
          {/each}
        </tbody>
      </table>
    </div>
    <div class="maker-checker__wrapper">
      <div class="maker__wrapper">
        <div class="caption">ì¶œì œì§„</div>
        <table>
          <thead>
            <tr>
              <th style="width: 136px;">ì´ë¦„</th>
              <th>ì†Œì†</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ê¹€ì² ìˆ˜</td>
              <td>ì„œê°•ëŒ€í•™êµ</td>
            </tr>
            <tr>
              <td>ê¹€ì² ìˆ˜</td>
              <td>ì„œê°•ëŒ€í•™êµ</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="checker__wrapper">
        <div class="caption">ê²€ìˆ˜ì§„</div>
        <table>
          <thead>
            <tr>
              <th style="width: 136px;">ì´ë¦„</th>
              <th>ì†Œì†</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ê¹€ì² ìˆ˜</td>
              <td>ì„œê°•ëŒ€í•™êµ</td>
            </tr>
            <tr>
              <td>ê¹€ì² ìˆ˜</td>
              <td>ì„œê°•ëŒ€í•™êµ</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="sponser__wrapper">
      <div class="caption">ìŠ¤í°ì„œ</div>
      <div></div>
    </div>
  </div>
</div>

<style lang="scss">
  *:not(i) {
    font-family: "MaruBuri", "Tossface";

    color: #212427;
  }
  ::selection {
    background: #c8dddf;
    color: unset;
  }
  table {
    td,
    th {
      background-color: unset;
      vertical-align: middle;
    }
    thead {
      th {
        border-bottom: 1px solid black;
      }
    }
    td {
      padding: 10px 0;
      border: unset;
    }
    tr:nth-child(2n) {
      background-color: rgba(0, 0, 0, 0.02);
    }
  }
  ul {
    li {
      &::before {
        content: "-";
        margin-right: 8px;
      }
    }
  }

  .round-comparison__table {
    margin-top: 80px;

    tr {
      td {
        padding: 18px 0;
      }
    }
  }

  * {
    --year-switch-item-width: 92px;
    --year-switch-item-height: 36px;
  }
  .year-switch {
    &__glider {
      z-index: 1;

      position: absolute;

      display: flex;
      width: var(--year-switch-item-width);
      height: var(--year-switch-item-height);
      background-color: #e3ceae;
      border-radius: 99px; // just a high number to create pill effect
      transition: 0.5s ease-in-out;
    }
    &__wrapper {
      position: relative;

      display: flex;
    }
    &-item {
      input {
        display: none;
      }

      z-index: 2;

      width: var(--year-switch-item-width);
      height: var(--year-switch-item-height);
      line-height: var(--year-switch-item-height);

      background-color: unset;
      color: #c5c5c5;

      transition: color 0.2s ease-in;

      border: unset;

      font-size: 28px;
      font-weight: 500;
      text-align: center;

      cursor: pointer;

      &:has(input:checked) {
        color: black;
        border-radius: 8px;
      }
    }
  }

  .sponser__wrapper,
  .award-history__wrapper,
  .maker-checker__wrapper {
    margin-top: 58px;
  }
  .maker-checker__wrapper {
    display: flex;
    justify-content: space-between;
    gap: 154px;

    .maker__wrapper,
    .checker__wrapper {
      width: 100%;
    }
  }
  .caption {
    font-weight: 600;
    margin-bottom: 12px;
  }
  .contest {
    display: flex;
    justify-content: space-between;

    margin-top: 80px;
    padding: 38px 0;

    border-top: 2px solid #6b6b6b;
    border-bottom: 2px solid #6b6b6b;

    &__title {
      font-size: 32px;
      font-weight: 500;
    }

    &-link__button {
      margin-top: 32px;
      padding: 8px 24px;

      border: 1px solid #212427;
      border-radius: 8px;
      background: transparent;
    }

    &-info-item {
      line-height: 1.5;

      &__wrapper {
        display: flex;
        flex-direction: column;
        gap: 28px;
      }
      &__title {
        font-weight: 500;
      }
    }
  }

  body {
    background-color: black;
  }
  .page {
    --padding-left: 96px;

    max-width: 1532px;
    background-color: #f0efe7;

    padding: 85px var(--padding-left);

    overflow-x: hidden;

    .section-divider {
      background-image: url("data:image/svg+xml,%3Csvg width='1512' height='2' viewBox='0 0 1512 2' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 1L1512 1' stroke='%23c9c6b0' stroke-width='2' stroke-linecap='round' stroke-dasharray='12 12'/%3E%3C/svg%3E%0A");
      height: 2px;

      margin-left: -100px;
      margin-right: -100px;
    }

    .section {
      margin: 96px 0;

      &-header {
        display: flex;
        justify-content: space-between;

        &__title {
          font-size: 36px;
          font-weight: 600;
        }

        &__desc {
          margin-top: 17px;
          line-height: 1.4;
        }

        &__right-img {
          margin-right: calc(var(--padding-left) * -1);
        }
      }
    }

    .hero-image {
      &__wrapper {
        margin-top: 26px;
        margin-right: calc(var(--padding-left) * -1);
        margin-left: calc(var(--padding-left) * -1);

        line-height: 0;
      }

      &-2 {
        display: block;

        transform: translateY(-50%);

        margin-left: 736px;
        /* margin-left: auto; */
        /* margin-right: 51px; */
      }
    }

    .hero {
      display: flex;
      justify-content: space-between;

      .title {
        font-size: 36px;
        font-weight: 500;
      }
      .info-item {
        &__wrapper {
          display: flex;
          gap: 98px;
        }

        &__title {
          font-weight: 500;
        }

        display: flex;
        flex-direction: column;
      }
    }
    .description {
      margin-top: 52px;

      line-height: 1.4;
    }
  }

  .go_back_icon {
    position: absolute;
    top: 28px;
    left: 28px;

    display: flex;
    align-items: center;
    gap: 0.8rem;

    text-decoration: none;

    i {
      width: 17px;
    }
    span {
      font-size: 1rem;
      font-weight: 500;

      text-decoration: underline;
      text-underline-offset: 5px;
    }
  }
</style>
